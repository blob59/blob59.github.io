<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Franco Ficara</title>

<style>
:root{
  --bg:#000;
  --card:rgba(0,0,0,.55);
  --txt:#fff;
  --muted:rgba(255,255,255,.75);
  --btn:rgba(255,255,255,.15);
  --btn2:rgba(255,255,255,.25);
  --radius:22px;
  --shadow:0 20px 60px rgba(0,0,0,.45);
}
*{box-sizing:border-box}
body{
  margin:0; min-height:100vh; background:var(--bg); color:var(--txt);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}
.bg{
  position:fixed; inset:0;
  background:
    linear-gradient(to bottom,rgba(0,0,0,.6),rgba(0,0,0,.55)),
    url("sfondo-brancaleone.jpg") center/cover no-repeat;
}
.wrap{
  position:relative; min-height:100vh;
  display:flex; align-items:center; justify-content:center;
  padding:24px 16px;
}
.card{
  width:min(980px,100%);
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:22px;
  backdrop-filter:blur(10px);
}
.top{
  display:flex; justify-content:space-between; align-items:center; gap:16px; flex-wrap:wrap;
}
.title{margin:0;font-size:clamp(26px,3.5vw,44px)}
.subtitle{margin:6px 0 0;color:var(--muted)}
.avatars{display:flex;gap:12px}
.avatar{
  width:72px;height:72px;border-radius:18px;object-fit:cover;
  border:1px solid rgba(255,255,255,.2)
}
.grid{
  display:grid; grid-template-columns:1.2fr .8fr; gap:18px; margin-top:18px
}
@media(max-width:820px){.grid{grid-template-columns:1fr}}
.panel{
  background:rgba(255,255,255,.08);
  border-radius:18px; padding:16px;
  border:1px solid rgba(255,255,255,.15)
}
.row{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.btn{
  background:var(--btn); color:var(--txt);
  border:1px solid rgba(255,255,255,.2);
  padding:12px 16px; border-radius:14px;
  cursor:pointer; font-weight:600
}
.btn:hover{background:var(--btn2)}
select,input[type=range]{
  background:rgba(0,0,0,.4); color:var(--txt);
  border:1px solid rgba(255,255,255,.2);
  border-radius:14px; padding:10px
}
.chips{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.chip{
  background:rgba(0,0,0,.3);
  border:1px solid rgba(255,255,255,.2);
  border-radius:999px; padding:8px 12px;
  font-size:13px;color:var(--muted)
}
.tiny{font-size:12px;color:var(--muted);margin-top:10px}
</style>
</head>

<body>
<div class="bg"></div>

<div class="wrap">
<div class="card">

  <div class="top">
    <div>
      <h1 class="title">Benvenuto</h1>
      <p class="subtitle">Ascolta. Il resto arriva da s√©.</p>
    </div>
    <div class="avatars">
      <img src="franco.png" class="avatar" alt="Franco">
      <img src="luma.png" class="avatar" alt="Luma">
    </div>
  </div>

  <div class="grid">

    <!-- MUSICA -->
    <div class="panel">
      <div class="row">
        <button class="btn" id="play">‚ñ∂Ô∏è Avvia musica</button>
        <label class="row">Volume
          <input type="range" id="vol" min="0" max="100" value="70">
        </label>
      </div>

      <div class="row" style="margin-top:14px">
        <select id="track">
          <option value="brano1_v2.mp3">Brano 1</option>
          <option value="brano2.mp3">Brano 2</option>
          <option value="brano3.mp3">Brano 3</option>
        </select>
        <button class="btn" id="next">‚è≠Ô∏è Prossimo</button>
      </div>

      <div class="chips">
        <span class="chip">‚úÖ Mobile-safe</span>
        <span class="chip">‚úÖ Niente cache drama</span>
        <span class="chip">‚úÖ Ricorda impostazioni</span>
      </div>

      <p class="tiny">
        Nota: su telefono l‚Äôaudio parte solo dopo un tocco. √à normale.
      </p>
    </div>

    <!-- OROLOGIO + METEO -->
    <div class="panel">
      <div class="chips">
        <span class="chip">üïí <span id="clock">--:--:--</span></span>
        <span class="chip">üìç <span id="place">Brancaleone</span></span>
        <span class="chip">üå¶Ô∏è <span id="meteo">Carico‚Ä¶</span></span>
      </div>

      <div class="row" style="margin-top:14px">
        <button class="btn" onclick="weather('brancaleone')">Brancaleone</button>
        <button class="btn" onclick="weather('galbiate')">Galbiate</button>
      </div>

      <p class="tiny">
        Meteo live (Open-Meteo). Nessuna chiave, nessun account.
      </p>
    </div>

  </div>

  <audio id="audio"></audio>

</div>
</div>

<script>
/* ===== AUDIO ===== */
const audio=document.getElementById("audio");
const play=document.getElementById("play");
const next=document.getElementById("next");
const track=document.getElementById("track");
const vol=document.getElementById("vol");
const CACHE="v=9";

function setTrack(f,auto=false){
  audio.src=f+"?"+CACHE;
  audio.loop=true;
  localStorage.setItem("track",f);
  if(auto) audio.play().then(()=>play.textContent="‚è∏ Pausa musica");
}
function setVol(v){
  audio.volume=v/100;
  localStorage.setItem("vol",v);
}
play.onclick=async()=>{
  if(audio.paused){
    await audio.play();
    play.textContent="‚è∏ Pausa musica";
  }else{
    audio.pause();
    play.textContent="‚ñ∂Ô∏è Avvia musica";
  }
}
next.onclick=()=>{
  track.selectedIndex=(track.selectedIndex+1)%track.options.length;
  setTrack(track.value,!audio.paused);
}
track.onchange=()=>setTrack(track.value,!audio.paused);
vol.oninput=()=>setVol(vol.value);

setVol(localStorage.getItem("vol")||70);
setTrack(localStorage.getItem("track")||track.value,false);

/* ===== OROLOGIO ===== */
setInterval(()=>{
  const d=new Date();
  clock.textContent=d.toLocaleTimeString("it-IT");
},1000);

/* ===== METEO ===== */
const locs={
  brancaleone:{n:"Brancaleone",lat:37.96,lon:16.10},
  galbiate:{n:"Galbiate",lat:45.82,lon:9.38}
};
async function weather(k){
  const l=locs[k];
  place.textContent=l.n;
  meteo.textContent="Carico‚Ä¶";
  try{
    const r=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${l.lat}&longitude=${l.lon}&current=temperature_2m&timezone=auto`);
    const j=await r.json();
    meteo.textContent=Math.round(j.current.temperature_2m)+"¬∞C";
  }catch{meteo.textContent="N/D"}
}
weather("brancaleone");
</script>

</body>
</html>
